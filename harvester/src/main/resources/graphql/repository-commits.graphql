query GetRepositoryCommits($owner: String!, $name: String!, $authorId: ID!, $after: String, $first: Int = 30) {
  repository(owner: $owner, name: $name) {
    defaultBranchRef {
      target {
        ... on Commit {
           history(first: $first, after: $after, author: {id: $authorId}) {
            pageInfo {
              hasNextPage
              endCursor
            }
            nodes {
              oid
              message
              additions
              deletions
              changedFilesIfAvailable
              authoredDate
              author {
                name
                email
              }
            }
          }
        }
      }
    }
  }
}
